## ðŸŒ€ Workforce and Outpatient Production in Integrative and Complementary Practices in Primary Care: Historical Series from 2015 to 2024
This repository documents the complete pipeline used to produce the tables and graphics presented in the paper â€œWorkforce and Outpatient Production in Integrative and Complementary Practices in Primary Care: Historical Series from 2015 to 2024.â€

It includes all steps of data processing and visualization related to Integrative and Complementary Health Practices (PICS) within the Brazilian Unified Health System (SUS). The scripts consolidate information from multiple spreadsheets, process and transform the data, and generate analytical tables and graphics that describe the distribution of these practices over time and across different professional occupations (CBOs).

The project provides a reproducible and extensible foundation for descriptive, visual, and comparative analyses, supporting public health management, academic research, and evaluation studies.

---

Definitions

**PICS** (Integrative and Complementary Health Practices) â€” a set of therapeutic approaches officially recognized by the Brazilian Ministry of Health, including practices such as acupuncture, homeopathy, herbal medicine, meditation, and others aimed at promoting comprehensive health and well-being.

**CBO** (Brazilian Classification of Occupations) â€” a national standardized system used in Brazil to categorize and describe professional occupations.

---

## ðŸ“ Project Structure

### `data_raw/`

Contains the original `.xlsx` files, organized by region and year. Each spreadsheet reports the number of procedures performed by type of PICS and by CBO.
This folder also includes a `logs/` subdirectory, which documents the selection criteria used prior to downloading the data.

---

### `data_clean/`

Stores processed objects (e.g., `df.RDS`) with cleaned data ready for analysis.
All files in this folder are generated by the `00_import_prepare.R` script.

---

### `scripts/`

##### `00_import_prepare/`

Imports, cleans, and transforms raw data:

* Validates records based on a list of allowed PICS.
* Cleans and standardizes variables.
* Converts data to long format.
* Saves the consolidated data frame as `df.RDS`.

##### `01_createTable2/`

Generates a table with:

* Number of procedures by CBO (from 2015 to 2024).
* Year-over-year percentage variation.
* Styling with `gt` and export to HTML (`outputs/html_tables/t2.html`).

#### `02_createTable3/`

Generates a table with:

* Number of procedures by type of PICS (from 2015 to 2024).
* Year-over-year percentage variation.
* Styling with `gt` and export to HTML (`outputs/html_tables/t3.html`).

##### `03_createGraphic1/`

* Creates a **line chart** showing the total number of procedures per year.
* Exports the chart as (`outputs/graphics/g1.png`) for use in reports and presentations.

##### `04_createGraphic2/`

Creates a **categorized heatmap** highlighting the main CBOs and the 10 most performed practices:

* Cells colored according to procedure volume ranges.
* Labels showing formatted absolute values.
* Exports the chart as (`outputs/graphics/g2.png`) for use in reports and presentations.

---


Notes: The HTML tables were translated after being generated and underwent minor manual adjustments in style and formatting within the .docx files.



## ðŸ› ï¸ Requirements

This project requires R (>= 4.0) and the following packages:

```r
if (!require("pacman")) install.packages("pacman")
pacman::p_load(tidyverse, janitor, scales, gt, gtExtras, readxl, forcats, purrr)
```

